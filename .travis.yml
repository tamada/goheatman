language: go
go:
- 1.12

env:
  global:
  - GO111MODULE=on
  - secure: qcDrvT1pYlHfU0zpEhfdjS3gcT36JPfeuqd9cYHmUuykLbWE9+IuEZar+fQRz6cPLTZYktW5Si4ZHUHqThcNr76m+YQZzAmq9qfVLYPNx0UwWfxws8pnYGseYoEGzjsjtS3pmjs+wQM1SfG35CQYGCrnLPzRQQaRvB2W3JDm5agw6bivsylMW9REPlV02dprgMw9nYs3SAHHaL0O8eCgFJFt9faiG367nhWHfz8TNHowhuL/8yzEfUVKEMCjowurT/Sf+U6R032OIdPtvqdKUAElSvi99HNIiKJEgk6pbuE2IOLXUQCkhIRsdwjwGjuXYj0jz33GKtmfqXy3iTzqQY0gpLemcg439hCIAyM6fS8QWOigxg92TbF95QAMEoUi+QXeIk1FEYPEsT84BlHvJZd15gVS/YxrtvTGKbvQi8jVuoiHdRaLfIYa3zj+qxRU12EJQ9OKcgR0Ttp8cZ4j0bIKdIKhgWR9CZ+yO2XyXAUqeTWONFlcj0L9GfGtBHqwBA++BIoDsYUsXb10IQOdjqnBuiFC7/ndavpVoBYB2byvOgAv62euJhhVOZtrJshxi731dWKSCV1P+6/P/6tuz3um2SgNr17V8baAMALI099WzD0Fbg3q554ROeIpkVkDqfgAfQFuoOYAeAQzHJvmi5uLjPeFrgjpUer11GrydCk=

before_script:
- go get github.com/mattn/goveralls

script:
- make test build
- $GOPATH/bin/goveralls -coverprofile=coverage.out -service=travis-ci -repotoken $COVERALLS_TOKEN
